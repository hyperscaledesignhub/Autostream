======================================
Fluss Flink Demo - Build and Push to ECR
======================================

[1;33mConfiguration:[0m
  AWS Region: us-west-2
  AWS Account: 343218179954
  ECR Repository: fluss-demo
  Image Tag: latest
  Platform: linux/amd64
  Project Root: /Users/vijayabhaskarv/IOT/FLUSS

[1;33mChecking prerequisites...[0m
[0;32mâœ… All prerequisites met[0m

[0;32mâœ… JAR file ready[0m

[1;33mBuilding Docker image for linux/amd64...[0m
This may take 5-10 minutes...

#0 building with "colima" instance using docker driver

#1 [internal] load build definition from Dockerfile.simple
#1 transferring dockerfile: 1.44kB done
#1 WARN: FromPlatformFlagConstDisallowed: FROM --platform flag should not use constant value "linux/amd64" (line 4)
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/apache/flink:1.20.3-scala_2.12-java17
#2 DONE 4.6s

#3 [internal] load .dockerignore
#3 transferring context: 2B done
#3 DONE 0.0s

#4 [1/5] FROM docker.io/apache/flink:1.20.3-scala_2.12-java17@sha256:19f898cdfe344dd353957ce3f87658e5157337c19254f1c4cc9d36231423d31f
#4 resolve docker.io/apache/flink:1.20.3-scala_2.12-java17@sha256:19f898cdfe344dd353957ce3f87658e5157337c19254f1c4cc9d36231423d31f done
#4 sha256:19f898cdfe344dd353957ce3f87658e5157337c19254f1c4cc9d36231423d31f 1.61kB / 1.61kB done
#4 sha256:43711f066cc8a1f85ea6f4792bcb636dab73d0a23f661fb908db2784f979861f 2.39kB / 2.39kB done
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 0B / 16.15MB 0.1s
#4 sha256:708b68640da50ba255a685f9047d6e7424acec27d71296b55e8dfa44a61900a4 11.53kB / 11.53kB done
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 0B / 47.06MB 0.1s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 0B / 29.54MB 0.1s
#4 ...

#5 [internal] load build context
#5 transferring context: 189.43MB 0.6s done
#5 DONE 0.6s

#4 [1/5] FROM docker.io/apache/flink:1.20.3-scala_2.12-java17@sha256:19f898cdfe344dd353957ce3f87658e5157337c19254f1c4cc9d36231423d31f
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 1.05MB / 16.15MB 1.6s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 2.10MB / 29.54MB 1.6s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 2.10MB / 16.15MB 2.4s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 3.15MB / 47.06MB 3.3s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 3.15MB / 16.15MB 3.5s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 4.19MB / 16.15MB 4.8s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 6.29MB / 47.06MB 4.9s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 4.19MB / 29.54MB 5.9s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 9.44MB / 47.06MB 6.3s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 5.24MB / 16.15MB 6.4s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 12.58MB / 47.06MB 7.8s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 6.29MB / 16.15MB 7.9s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 7.34MB / 16.15MB 9.1s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 8.39MB / 16.15MB 9.9s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 15.73MB / 47.06MB 9.9s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 6.29MB / 29.54MB 9.9s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 9.44MB / 16.15MB 11.0s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 8.39MB / 29.54MB 11.7s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 10.49MB / 16.15MB 12.0s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 10.49MB / 29.54MB 13.0s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 18.87MB / 47.06MB 13.3s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 11.53MB / 16.15MB 13.8s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 12.58MB / 29.54MB 14.0s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 14.68MB / 29.54MB 15.1s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 12.58MB / 16.15MB 15.6s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 16.78MB / 29.54MB 16.2s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 13.63MB / 16.15MB 17.0s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 18.87MB / 29.54MB 17.6s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 22.02MB / 47.06MB 17.8s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 14.68MB / 16.15MB 17.9s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 15.73MB / 16.15MB 19.1s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 20.97MB / 29.54MB 19.2s
#4 sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 16.15MB / 16.15MB 19.4s done
#4 sha256:4e292c31f90443285e61f951097b4b2213a7ebb112514ad9e4014e1ec1ee544a 0B / 156B 19.4s
#4 sha256:4e292c31f90443285e61f951097b4b2213a7ebb112514ad9e4014e1ec1ee544a 156B / 156B 19.6s done
#4 sha256:b5e329fb7a0e143a03a99f87ec4d7acded1e81048017d71ea84307eb3c34a052 0B / 2.28kB 19.7s
#4 sha256:b5e329fb7a0e143a03a99f87ec4d7acded1e81048017d71ea84307eb3c34a052 2.28kB / 2.28kB 20.0s done
#4 sha256:1415338cc05b51e91b98dc5fd6f6ffcabf57aa66273699259e414c7105158bae 0B / 1.17MB 20.1s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 25.17MB / 47.06MB 20.6s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 23.07MB / 29.54MB 20.6s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 25.17MB / 29.54MB 21.9s
#4 sha256:1415338cc05b51e91b98dc5fd6f6ffcabf57aa66273699259e414c7105158bae 1.05MB / 1.17MB 22.2s
#4 sha256:1415338cc05b51e91b98dc5fd6f6ffcabf57aa66273699259e414c7105158bae 1.17MB / 1.17MB 22.3s done
#4 sha256:6184104e4c56fc937a7ee4d6361aef1043cd490aac139e8f605035b17f56d0b9 0B / 900.49kB 22.4s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 28.31MB / 47.06MB 23.0s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 27.26MB / 29.54MB 23.2s
#4 sha256:6184104e4c56fc937a7ee4d6361aef1043cd490aac139e8f605035b17f56d0b9 900.49kB / 900.49kB 24.4s done
#4 sha256:30e9eab76bb5cde7871d074a55c70ebae69a0038879c81b4eb1937c5dcd80958 0B / 4.59kB 24.5s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 29.36MB / 29.54MB 24.8s
#4 sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 29.54MB / 29.54MB 24.9s done
#4 sha256:bf38012363ae340d895c24e945f4a3f8d3a56ea5cb087a27cc0bf5650523ce9c 0B / 115B 24.9s
#4 extracting sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 31.46MB / 47.06MB 25.1s
#4 extracting sha256:7e49dc6156b0b532730614d83a65ae5e7ce61e966b0498703d333b4d03505e4f 0.6s done
#4 extracting sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9
#4 sha256:30e9eab76bb5cde7871d074a55c70ebae69a0038879c81b4eb1937c5dcd80958 4.59kB / 4.59kB 25.6s done
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 0B / 484.39MB 25.7s
#4 sha256:bf38012363ae340d895c24e945f4a3f8d3a56ea5cb087a27cc0bf5650523ce9c 115B / 115B 25.9s done
#4 sha256:59f4883d2136fab4382d53a4b8fba8b9f461a196fac8d8696a1f72cec43edd44 0B / 2.27kB 26.0s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 34.60MB / 47.06MB 26.2s
#4 extracting sha256:7e27b670a0f5423b1022e278f7a378f8f36d0cf41ecab6025d51111829df44f9 0.6s done
#4 sha256:59f4883d2136fab4382d53a4b8fba8b9f461a196fac8d8696a1f72cec43edd44 2.27kB / 2.27kB 27.0s done
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 37.75MB / 47.06MB 27.5s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 40.89MB / 47.06MB 29.7s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 7.34MB / 484.39MB 30.8s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 44.04MB / 47.06MB 32.2s
#4 sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 47.06MB / 47.06MB 34.5s done
#4 extracting sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 0.1s
#4 extracting sha256:070c1638c21b85db624bcc6ff565cfad268dd384bdc524c47e9019c6b0e772a8 0.4s done
#4 extracting sha256:4e292c31f90443285e61f951097b4b2213a7ebb112514ad9e4014e1ec1ee544a
#4 extracting sha256:4e292c31f90443285e61f951097b4b2213a7ebb112514ad9e4014e1ec1ee544a done
#4 extracting sha256:b5e329fb7a0e143a03a99f87ec4d7acded1e81048017d71ea84307eb3c34a052 done
#4 extracting sha256:1415338cc05b51e91b98dc5fd6f6ffcabf57aa66273699259e414c7105158bae 0.0s done
#4 extracting sha256:6184104e4c56fc937a7ee4d6361aef1043cd490aac139e8f605035b17f56d0b9 done
#4 extracting sha256:30e9eab76bb5cde7871d074a55c70ebae69a0038879c81b4eb1937c5dcd80958 done
#4 extracting sha256:bf38012363ae340d895c24e945f4a3f8d3a56ea5cb087a27cc0bf5650523ce9c done
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 18.87MB / 484.39MB 35.9s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 34.60MB / 484.39MB 41.0s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 49.28MB / 484.39MB 46.0s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 65.01MB / 484.39MB 51.0s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 81.79MB / 484.39MB 56.1s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 96.47MB / 484.39MB 61.2s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 106.95MB / 484.39MB 66.4s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 120.59MB / 484.39MB 71.5s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 137.36MB / 484.39MB 76.6s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 148.90MB / 484.39MB 81.7s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 164.63MB / 484.39MB 86.8s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 180.36MB / 484.39MB 91.9s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 197.13MB / 484.39MB 96.9s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 211.81MB / 484.39MB 102.0s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 228.59MB / 484.39MB 107.1s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 243.27MB / 484.39MB 112.2s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 251.66MB / 484.39MB 117.3s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 264.24MB / 484.39MB 122.4s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 279.97MB / 484.39MB 127.5s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 296.75MB / 484.39MB 132.6s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 312.48MB / 484.39MB 137.7s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 328.20MB / 484.39MB 142.8s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 344.98MB / 484.39MB 148.0s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 361.76MB / 484.39MB 153.1s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 378.54MB / 484.39MB 158.2s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 394.26MB / 484.39MB 163.3s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 409.99MB / 484.39MB 168.3s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 425.72MB / 484.39MB 173.3s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 441.45MB / 484.39MB 178.4s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 458.23MB / 484.39MB 183.6s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 475.00MB / 484.39MB 188.8s
#4 sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 484.39MB / 484.39MB 191.9s done
#4 extracting sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 0.1s
#4 extracting sha256:bf73ccf69343e5bdbc54445510d1deb81e775c998be8952ba26ad3b582224bbe 1.8s done
#4 extracting sha256:59f4883d2136fab4382d53a4b8fba8b9f461a196fac8d8696a1f72cec43edd44 done
#4 DONE 193.7s

#6 [2/5] RUN mkdir -p /opt/flink/plugins/metrics-prometheus &&     if [ ! -f /opt/flink/plugins/metrics-prometheus/flink-metrics-prometheus-1.20.3.jar ]; then         curl -L https://repo1.maven.org/maven2/org/apache/flink/flink-metrics-prometheus/1.20.3/flink-metrics-prometheus-1.20.3.jar             -o /opt/flink/plugins/metrics-prometheus/flink-metrics-prometheus-1.20.3.jar &&         chmod 644 /opt/flink/plugins/metrics-prometheus/flink-metrics-prometheus-1.20.3.jar;     fi
#6 DONE 0.4s

#7 [3/5] WORKDIR /opt/flink/usrlib
#7 DONE 0.0s

#8 [4/5] COPY fluss-flink-realtime-demo.jar /opt/flink/usrlib/fluss-flink-realtime-demo.jar
#8 DONE 0.3s

#9 [5/5] RUN ls -lh /opt/flink/usrlib/fluss-flink-realtime-demo.jar ||     (echo "ERROR: JAR file not found" && exit 1)
#9 0.105 -rw-r--r-- 1 root root 181M Dec  4 09:23 /opt/flink/usrlib/fluss-flink-realtime-demo.jar
#9 DONE 0.1s

#10 exporting to image
#10 exporting layers
#10 exporting layers 0.2s done
#10 writing image sha256:c143ebefdd593f12cb753d2a8a1164b212de67dfea6060e605f51f30e891a4e5 done
#10 naming to docker.io/library/fluss-demo:latest done
#10 naming to docker.io/library/fluss-demo:20251204-145343 done
#10 DONE 0.3s

 [33m1 warning found (use docker --debug to expand):
[0m - FromPlatformFlagConstDisallowed: FROM --platform flag should not use constant value "linux/amd64" (line 4)
[0;32mâœ… Docker image built successfully[0m

[1;33mAuthenticating with ECR...[0m
Login Succeeded
[0;32mâœ… ECR authentication successful[0m

[1;33mChecking if ECR repository exists...[0m
[0;32mâœ… ECR repository exists[0m

[1;33mTagging image for ECR...[0m
[0;32mâœ… Image tagged[0m

[1;33mPushing image to ECR...[0m
The push refers to repository [343218179954.dkr.ecr.us-west-2.amazonaws.com/fluss-demo]
5f70bf18a086: Preparing
92324201d0c2: Preparing
826a5f5513cc: Preparing
5f70bf18a086: Preparing
c33f8bb81cf7: Preparing
bdd1704cfb57: Preparing
a4f9fa3fe2d5: Preparing
e24fcb144273: Preparing
6bbf131bb20b: Preparing
9bb06e14cebe: Preparing
5c41ef53b2b3: Preparing
61cd51038a8c: Preparing
7da15da61ae6: Preparing
fa85cf75d7a0: Preparing
73974f74b436: Preparing
e24fcb144273: Waiting
6bbf131bb20b: Waiting
9bb06e14cebe: Waiting
5c41ef53b2b3: Waiting
61cd51038a8c: Waiting
7da15da61ae6: Waiting
fa85cf75d7a0: Waiting
73974f74b436: Waiting
a4f9fa3fe2d5: Waiting
5f70bf18a086: Layer already exists
826a5f5513cc: Pushed
a4f9fa3fe2d5: Pushed
c33f8bb81cf7: Pushed
e24fcb144273: Pushed
6bbf131bb20b: Pushed
5c41ef53b2b3: Pushed
9bb06e14cebe: Pushed
61cd51038a8c: Pushed
73974f74b436: Pushed
7da15da61ae6: Pushed
fa85cf75d7a0: Pushed
92324201d0c2: Pushed
bdd1704cfb57: Pushed
latest: digest: sha256:6b7beaf24f6fc3f95966ed459a1233d6d902d088421343d9ad28880e44962a4a size: 3458
The push refers to repository [343218179954.dkr.ecr.us-west-2.amazonaws.com/fluss-demo]
tag does not exist: 343218179954.dkr.ecr.us-west-2.amazonaws.com/fluss-demo:20251204-150650
